{"version":3,"file":"_page.svelte.js","sources":["../../../../../../src/routes/dev-communication/+page.svelte"],"sourcesContent":["<!--\n  @component Development Communication Hub\n  Central hub for developer-system communication and coordination\n-->\n\n<script lang=\"ts\">\n  import { onMount } from 'svelte';\n  import { writable } from 'svelte/store';\n\n  // Communication state\n  const messages = writable([]);\n  const currentMessage = writable('');\n  const systemStatus = writable('ready');\n  const activeAgents = writable([]);\n\n  // Communication types\n  const communicationTypes = [\n    { id: 'direct', name: 'üí¨ Direct Command', desc: 'Direct system commands and queries' },\n    { id: 'coordination', name: 'ü§ù Agent Coordination', desc: 'Multi-agent task coordination' },\n    { id: 'analysis', name: 'üîç Code Analysis', desc: 'Deep code analysis requests' },\n    { id: 'planning', name: 'üìã Project Planning', desc: 'Strategic planning and roadmapping' },\n    { id: 'debugging', name: 'üêõ Debug Session', desc: 'Interactive debugging assistance' },\n    { id: 'review', name: 'üëÅÔ∏è Code Review', desc: 'Comprehensive code review requests' }\n  ];\n\n  let selectedType = 'direct';\n  let messageHistory = [];\n  let isProcessing = false;\n\n  onMount(async () => {\n    // Load message history\n    await loadMessageHistory();\n    // Connect to system status\n    await connectSystemStatus();\n  });\n\n  async function loadMessageHistory() {\n    try {\n      const response = await fetch('/api/dev-communication/history');\n      if (response.ok) {\n        messageHistory = await response.json();\n      }\n    } catch (error) {\n      console.error('Failed to load message history:', error);\n    }\n  }\n\n  async function connectSystemStatus() {\n    // WebSocket connection for real-time status\n    try {\n      const response = await fetch('/api/system/status');\n      if (response.ok) {\n        const status = await response.json();\n        systemStatus.set(status.status);\n        activeAgents.set(status.activeAgents || []);\n      }\n    } catch (error) {\n      console.error('Failed to connect to system status:', error);\n    }\n  }\n\n  async function sendMessage() {\n    if (!$currentMessage.trim() || isProcessing) return;\n    \n    isProcessing = true;\n    const message = {\n      id: Date.now(),\n      type: selectedType,\n      content: $currentMessage,\n      timestamp: new Date().toISOString(),\n      status: 'processing'\n    };\n\n    messageHistory = [...messageHistory, message];\n    currentMessage.set('');\n\n    try {\n      const response = await fetch('/api/dev-communication/send', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          type: selectedType,\n          message: message.content,\n          requestId: message.id\n        })\n      });\n\n      if (response.ok) {\n        const result = await response.json();\n        message.status = 'completed';\n        message.response = result.response;\n        message.agents = result.assignedAgents;\n      } else {\n        message.status = 'error';\n        message.error = 'Communication failed';\n      }\n    } catch (error) {\n      message.status = 'error';\n      message.error = error.message;\n    }\n\n    messageHistory = [...messageHistory];\n    isProcessing = false;\n  }\n\n  async function clearHistory() {\n    messageHistory = [];\n    try {\n      await fetch('/api/dev-communication/clear', { method: 'POST' });\n    } catch (error) {\n      console.error('Failed to clear history:', error);\n    }\n  }\n\n  function getStatusColor(status) {\n    switch (status) {\n      case 'processing': return 'text-yellow-400';\n      case 'completed': return 'text-green-400';\n      case 'error': return 'text-red-400';\n      default: return 'text-gray-400';\n    }\n  }\n\n  function formatTime(timestamp) {\n    return new Date(timestamp).toLocaleTimeString();\n  }\n</script>\n\n<svelte:head>\n  <title>Dev Communication - Claude Code Zen</title>\n</svelte:head>\n\n<div class=\"min-h-screen bg-gray-900 text-white\">\n  <!-- Header -->\n  <div class=\"bg-gray-800 border-b border-gray-700 p-6\">\n    <div class=\"max-w-7xl mx-auto\">\n      <h1 class=\"text-3xl font-bold text-blue-400 mb-2\">üí¨ Development Communication Hub</h1>\n      <p class=\"text-gray-300\">Direct communication interface with the Claude Code Zen system</p>\n      \n      <!-- System Status -->\n      <div class=\"mt-4 flex items-center gap-4\">\n        <div class=\"flex items-center gap-2\">\n          <div class=\"w-3 h-3 rounded-full {$systemStatus === 'ready' ? 'bg-green-400' : 'bg-yellow-400'}\"></div>\n          <span class=\"text-sm\">System: {$systemStatus}</span>\n        </div>\n        <div class=\"flex items-center gap-2\">\n          <span class=\"text-sm\">Active Agents: {$activeAgents.length}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"max-w-7xl mx-auto p-6 grid grid-cols-1 lg:grid-cols-3 gap-6\">\n    <!-- Communication Interface -->\n    <div class=\"lg:col-span-2 space-y-6\">\n      <!-- Message Input -->\n      <div class=\"bg-gray-800 rounded-lg p-6 border border-gray-700\">\n        <h2 class=\"text-xl font-semibold mb-4\">üìù New Communication</h2>\n        \n        <!-- Communication Type Selector -->\n        <div class=\"mb-4\">\n          <label class=\"block text-sm font-medium mb-2\">Communication Type</label>\n          <select bind:value={selectedType} class=\"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2\">\n            {#each communicationTypes as type}\n              <option value={type.id}>{type.name}</option>\n            {/each}\n          </select>\n          <p class=\"text-sm text-gray-400 mt-1\">\n            {communicationTypes.find(t => t.id === selectedType)?.desc || ''}\n          </p>\n        </div>\n\n        <!-- Message Input -->\n        <div class=\"mb-4\">\n          <label class=\"block text-sm font-medium mb-2\">Message</label>\n          <textarea\n            bind:value={$currentMessage}\n            placeholder=\"Describe what you need help with, the task to coordinate, or the analysis to perform...\"\n            class=\"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 h-32 resize-none\"\n            disabled={isProcessing}\n          ></textarea>\n        </div>\n\n        <!-- Send Button -->\n        <div class=\"flex justify-between items-center\">\n          <button\n            on:click={sendMessage}\n            disabled={!$currentMessage.trim() || isProcessing}\n            class=\"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed px-6 py-2 rounded-lg font-medium transition-colors\"\n          >\n            {isProcessing ? '‚è≥ Processing...' : 'üöÄ Send Communication'}\n          </button>\n          \n          <button\n            on:click={clearHistory}\n            class=\"text-gray-400 hover:text-red-400 text-sm transition-colors\"\n          >\n            üóëÔ∏è Clear History\n          </button>\n        </div>\n      </div>\n\n      <!-- Message History -->\n      <div class=\"bg-gray-800 rounded-lg p-6 border border-gray-700\">\n        <h2 class=\"text-xl font-semibold mb-4\">üìú Communication History</h2>\n        \n        <div class=\"space-y-4 max-h-96 overflow-y-auto\">\n          {#each messageHistory.slice().reverse() as message}\n            <div class=\"bg-gray-700 rounded-lg p-4 border-l-4 {message.status === 'completed' ? 'border-green-400' : message.status === 'error' ? 'border-red-400' : 'border-yellow-400'}\">\n              <!-- Message Header -->\n              <div class=\"flex justify-between items-start mb-2\">\n                <div class=\"flex items-center gap-2\">\n                  <span class=\"text-sm font-medium\">\n                    {communicationTypes.find(t => t.id === message.type)?.name || message.type}\n                  </span>\n                  <span class=\"text-xs {getStatusColor(message.status)}\">\n                    {message.status}\n                  </span>\n                </div>\n                <span class=\"text-xs text-gray-400\">{formatTime(message.timestamp)}</span>\n              </div>\n\n              <!-- Original Message -->\n              <div class=\"mb-3\">\n                <p class=\"text-sm text-gray-300\">{message.content}</p>\n              </div>\n\n              <!-- System Response -->\n              {#if message.response}\n                <div class=\"bg-gray-600 rounded p-3 mt-2\">\n                  <p class=\"text-sm text-green-300 font-medium mb-1\">System Response:</p>\n                  <p class=\"text-sm text-gray-200\">{message.response}</p>\n                  \n                  {#if message.agents && message.agents.length > 0}\n                    <div class=\"mt-2\">\n                      <p class=\"text-xs text-gray-400\">Assigned Agents:</p>\n                      <div class=\"flex flex-wrap gap-1 mt-1\">\n                        {#each message.agents as agent}\n                          <span class=\"bg-blue-600 text-xs px-2 py-1 rounded\">{agent}</span>\n                        {/each}\n                      </div>\n                    </div>\n                  {/if}\n                </div>\n              {/if}\n\n              <!-- Error Display -->\n              {#if message.error}\n                <div class=\"bg-red-900/30 rounded p-3 mt-2 border border-red-600\">\n                  <p class=\"text-sm text-red-300\">Error: {message.error}</p>\n                </div>\n              {/if}\n            </div>\n          {/each}\n          \n          {#if messageHistory.length === 0}\n            <div class=\"text-center py-8 text-gray-500\">\n              <p>No communications yet. Start a conversation with the system!</p>\n            </div>\n          {/if}\n        </div>\n      </div>\n    </div>\n\n    <!-- Sidebar -->\n    <div class=\"space-y-6\">\n      <!-- Quick Actions -->\n      <div class=\"bg-gray-800 rounded-lg p-6 border border-gray-700\">\n        <h3 class=\"text-lg font-semibold mb-4\">‚ö° Quick Actions</h3>\n        <div class=\"space-y-2\">\n          <button class=\"w-full text-left bg-gray-700 hover:bg-gray-600 p-3 rounded-lg transition-colors\">\n            üîç System Health Check\n          </button>\n          <button class=\"w-full text-left bg-gray-700 hover:bg-gray-600 p-3 rounded-lg transition-colors\">\n            üêù Initialize New Swarm\n          </button>\n          <button class=\"w-full text-left bg-gray-700 hover:bg-gray-600 p-3 rounded-lg transition-colors\">\n            üìä Performance Analysis\n          </button>\n          <button class=\"w-full text-left bg-gray-700 hover:bg-gray-600 p-3 rounded-lg transition-colors\">\n            üîß Debug Current Task\n          </button>\n          <button class=\"w-full text-left bg-gray-700 hover:bg-gray-600 p-3 rounded-lg transition-colors\">\n            üìã Generate Status Report\n          </button>\n        </div>\n      </div>\n\n      <!-- Active Agents -->\n      <div class=\"bg-gray-800 rounded-lg p-6 border border-gray-700\">\n        <h3 class=\"text-lg font-semibold mb-4\">ü§ñ Active Agents</h3>\n        <div class=\"space-y-2\">\n          {#each $activeAgents as agent}\n            <div class=\"flex items-center justify-between bg-gray-700 p-2 rounded\">\n              <span class=\"text-sm\">{agent.name}</span>\n              <span class=\"text-xs text-green-400\">{agent.status}</span>\n            </div>\n          {/each}\n          \n          {#if $activeAgents.length === 0}\n            <p class=\"text-sm text-gray-500\">No active agents</p>\n          {/if}\n        </div>\n      </div>\n\n      <!-- Communication Tips -->\n      <div class=\"bg-gray-800 rounded-lg p-6 border border-gray-700\">\n        <h3 class=\"text-lg font-semibold mb-4\">üí° Communication Tips</h3>\n        <div class=\"space-y-3 text-sm text-gray-300\">\n          <div>\n            <p class=\"font-medium text-blue-400\">Be Specific:</p>\n            <p>Provide clear context and expected outcomes</p>\n          </div>\n          <div>\n            <p class=\"font-medium text-green-400\">Use Examples:</p>\n            <p>Include code snippets or file paths when relevant</p>\n          </div>\n          <div>\n            <p class=\"font-medium text-yellow-400\">Set Priorities:</p>\n            <p>Indicate urgency and dependencies</p>\n          </div>\n          <div>\n            <p class=\"font-medium text-purple-400\">Feedback Loop:</p>\n            <p>Ask for clarification if responses aren't clear</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<style>\n  :global(body) {\n    background-color: #111827;\n  }\n</style>"],"names":["$.attr_class","$.stringify","$.store_get","$.maybe_selected","$.escape","$.attr","$.ensure_array_like"],"mappings":";;mCAAA;;;QAWQ,iBAAiB,SAAS,EAAE;QAC5B,eAAe,SAAS,OAAO;AAC/B,QAAA,eAAe,SAAQ,EAAA;QAGvB,qBAAkB;AAAA;MACpB,IAAI;AAAA,MAAU,MAAM;AAAA,MAAqB,MAAM;AAAA;;MAC/C,IAAI;AAAA,MAAgB,MAAM;AAAA,MAAyB,MAAM;AAAA;;MACzD,IAAI;AAAA,MAAY,MAAM;AAAA,MAAoB,MAAM;AAAA;;MAChD,IAAI;AAAA,MAAY,MAAM;AAAA,MAAuB,MAAM;AAAA;;MACnD,IAAI;AAAA,MAAa,MAAM;AAAA,MAAoB,MAAM;AAAA;;MACjD,IAAI;AAAA,MAAU,MAAM;AAAA,MAAmB,MAAM;AAAA;;AAG7C,MAAA,eAAe;MACf,iBAAc,CAAA;AACd,MAAA,eAAe;WAuFV,eAAe,QAAQ;YACtB,QAAM;AAAA,WACP;eAAqB;AAAA,WACrB;eAAoB;AAAA,WACpB;eAAgB;AAAA;eACL;AAAA;EAEpB;WAES,WAAW,WAAW;eAClB,KAAK,SAAS,EAAE,mBAAkB;AAAA,EAC/C;uCAsCiB,kBAAkB;yCA4CpB,eAAe,MAAK,EAAG,QAAO,CAAA;;;;;AAjEe,YAAA,IAAA,KAAA,gZAAAA,WAAA,wBAAAC,UAAAC,UAAA,iBAAA,CAAA,GAAA,iBAAA,YAAA,MAAA,UAAU,iBAAiB,eAAe,4RAI1C,MAAM,CAAA,0bAAA;2BAgBtC;;;QACW,OAAI,WAAA,OAAA;+CAChB,KAAK,EAAE,CAAA,GAAAC,eAAA,WAAP,KAAK,EAAE,CAAA,IAAAC,YAAG,KAAK,IAAI,CAAA,WAAA;AAAA;;;AAInC,YAAA,IAAA,KAAA,mDAAAA,YAAA,mBAAmB,KAAI,CAAC,MAAK,EAAE,OAAO,YAAY,GAAG,QAAQ,EAAE,uTAWtD,cAAY,IAAA,CAAA,GAAA;;;;;AAQK,YAAA,IAAA,KAAA,2EAAAC,KAAA,YAAA,CAAAH,UAAA,iBAAA,IAAA,mBAAA,cAAA,EAAA,UAAU,cAAY,IAAA,CAAA,8IAAAE,YAGb,uBAAuB,CAAA,0TAAA;;QAiBlB,UAAO,aAAA,SAAA;4FACG,QAAQ,WAAW,cAAc,qBAAqB,QAAQ,WAAW,UAAU,mBAAmB,mBAAmB,CAAA,EAAA,CAAA,8HAAAA,YAKnK,mBAAmB,KAAI,CAAC,MAAK,EAAE,OAAO,QAAQ,IAAI,GAAG,QAAQ,QAAQ,IAAI,CAAA,gBAAAJ,WAAA,WAAAC,UAEtD,eAAe,QAAQ,MAAM,CAAA,CAAA,EAAA,CAAA,IAAAG,YAChD,QAAQ,MAAM,CAAA,qDAAAA,YAGkB,WAAW,QAAQ,SAAS,CAAA,CAAA,oEAAAA,YAK/B,QAAQ,OAAO,CAAA,aAAA;AAI9C,QAAA,QAAQ,UAAQ;;AAGiB,gBAAA,IAAA,KAAA,sJAAAA,YAAA,QAAQ,QAAQ,CAAA,OAAA;UAE7C,QAAQ,UAAU,QAAQ,OAAO,SAAS,GAAC;;AAInC,cAAA,eAAAE,kBAAA,QAAQ,MAAM;;;cAAI,QAAK,aAAA,SAAA;gGACyB,KAAK,CAAA,SAAA;AAAA;;;;;;;;;;AASjE,QAAA,QAAQ,OAAK;;AAE0B,gBAAA,IAAA,KAAA,4GAAAF,YAAA,QAAQ,KAAK,CAAA,YAAA;AAAA;;;;;;MAMxD,eAAe,WAAW,GAAC;;;;;;;;QAqCR,QAAK,aAAA,SAAA;AAEF,cAAA,IAAA,KAAA,gGAAAA,YAAA,MAAM,IAAI,CAAA,gDAAAA,YACK,MAAM,MAAM,CAAA,eAAA;AAAA;;AAInC,MAAAF,UAAA,iBAAA,CAAA,GAAA,iBAAA,YAAA,EAAA,WAAW,GAAC;;;;;;;;;AA7KzC;"}