import"../chunks/DsnmJJEf.js";import{i as Ga}from"../chunks/Dpmr5Dgf.js";import{a1 as Ma,a2 as Wa,a3 as w,a4 as qa,a5 as Q,a6 as h,a7 as Ua,ac as Ia,aa as a,a8 as o,a9 as t,ad as e,ae as Ra,g as i,af as fe}from"../chunks/B7z1MOZy.js";import{i as Xe}from"../chunks/CEHbExR_.js";import{e as _e,i as he,s as R}from"../chunks/BhSolc2x.js";import{s as Ye}from"../chunks/CXr2Pg0T.js";import{s as Ea}from"../chunks/C6hVz37X.js";import{s as Oa,a as B}from"../chunks/CXII8-yk.js";import{w as H}from"../chunks/B2TdpOED.js";var Fa=w('<div><div class="flex justify-between items-start mb-3"><div><h3 class="font-semibold text-lg"> </h3> <div class="flex items-center gap-4 text-sm text-gray-300"><span> </span> <span> </span> <span> </span> <span> </span></div></div> <div class="text-right text-sm text-gray-400"><div> </div> <div> </div></div></div> <div class="mb-3"><div class="text-sm text-gray-300"><span class="font-medium">Business Impact:</span> <span> </span></div> <div class="text-sm text-gray-300"><span class="font-medium">Stakeholders:</span> </div></div> <div class="flex gap-2"><button class="bg-green-600 hover:bg-green-700 px-3 py-1 rounded text-sm transition-colors">âœ… Approve</button> <button class="bg-red-600 hover:bg-red-700 px-3 py-1 rounded text-sm transition-colors">âŒ Reject</button> <button class="bg-orange-600 hover:bg-orange-700 px-3 py-1 rounded text-sm transition-colors">ğŸ”º Escalate</button> <a class="bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded text-sm transition-colors inline-block">ğŸ‘ï¸ Details</a></div></div>'),Na=w('<div class="text-center py-8 text-gray-500"><p>No active workflows requiring attention</p></div>'),za=w('<div class="text-gray-300"> </div>'),Ja=w('<div class="bg-gray-700 rounded-lg p-4"><div class="flex justify-between items-start mb-3"><div><h3 class="font-semibold"> </h3> <p class="text-gray-300 text-sm mt-1"> </p></div> <div class="text-right text-sm text-gray-400"><div> </div> <div> </div></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-3 text-sm"><div><div class="text-gray-400">Type:</div> <div class="text-blue-400"> </div></div> <div><div class="text-gray-400">Source:</div> <div class="font-mono text-green-400"> </div></div> <div><div class="text-gray-400">Required Agents:</div> <div> </div></div> <div><div class="text-gray-400">Deadline:</div> <div class="text-yellow-400"> </div></div></div> <div class="mb-3"><div class="text-sm text-gray-400 mb-1">Acceptance Criteria:</div> <div class="text-sm"></div></div> <div class="flex gap-2"><button class="bg-green-600 hover:bg-green-700 px-3 py-1 rounded text-sm transition-colors">âœ… Approve Task</button> <button class="bg-yellow-600 hover:bg-yellow-700 px-3 py-1 rounded text-sm transition-colors">ğŸ“ Modify</button> <button class="bg-red-600 hover:bg-red-700 px-3 py-1 rounded text-sm transition-colors">âŒ Reject</button> <a class="bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded text-sm transition-colors inline-block">ğŸ‘ï¸ Review</a></div></div>'),La=w('<div class="text-center py-8 text-gray-500"><p>No pending task approvals</p></div>'),Qa=w('<div class="min-h-screen bg-gray-900 text-white"><div class="bg-gray-800 border-b border-gray-700 p-6"><div class="max-w-7xl mx-auto"><h1 class="text-3xl font-bold text-purple-400 mb-2">ğŸ›¡ï¸ AGU - AI Governance Unit</h1> <p class="text-gray-300">Centralized governance, approval workflows, and compliance management</p> <div class="mt-4 grid grid-cols-2 md:grid-cols-4 gap-4"><div class="bg-gray-700 rounded-lg p-3"><div class="text-sm text-gray-400">System Status</div> <div class="text-green-400 font-semibold"> </div></div> <div class="bg-gray-700 rounded-lg p-3"><div class="text-sm text-gray-400">Compliance Score</div> <div class="text-blue-400 font-semibold"> </div></div> <div class="bg-gray-700 rounded-lg p-3"><div class="text-sm text-gray-400">Pending Approvals</div> <div class="text-yellow-400 font-semibold"> </div></div> <div class="bg-gray-700 rounded-lg p-3"><div class="text-sm text-gray-400">Active Workflows</div> <div class="text-purple-400 font-semibold"> </div></div></div></div></div> <div class="max-w-7xl mx-auto p-6 grid grid-cols-1 xl:grid-cols-3 gap-6"><div class="xl:col-span-2 space-y-6"><div class="bg-gray-800 rounded-lg p-6 border border-gray-700"><h2 class="text-xl font-semibold mb-4">ğŸ”€ Active Workflow Gates</h2> <div class="space-y-4"><!> <!></div></div> <div class="bg-gray-800 rounded-lg p-6 border border-gray-700"><h2 class="text-xl font-semibold mb-4">ğŸ“‹ Pending Task Approvals</h2> <div class="space-y-4"><!> <!></div></div></div> <div class="space-y-6"><div class="bg-gray-800 rounded-lg p-6 border border-gray-700"><h3 class="text-lg font-semibold mb-4">ğŸ“Š AGU Metrics</h3> <div class="space-y-3"><div class="flex justify-between"><span class="text-gray-400">Total Tasks</span> <span class="font-semibold"> </span></div> <div class="flex justify-between"><span class="text-gray-400">Approved</span> <span class="text-green-400 font-semibold"> </span></div> <div class="flex justify-between"><span class="text-gray-400">Rejected</span> <span class="text-red-400 font-semibold"> </span></div> <div class="flex justify-between"><span class="text-gray-400">Pending</span> <span class="text-yellow-400 font-semibold"> </span></div> <div class="flex justify-between"><span class="text-gray-400">Avg Approval Time</span> <span class="text-blue-400 font-semibold"> </span></div></div></div> <div class="bg-gray-800 rounded-lg p-6 border border-gray-700"><h3 class="text-lg font-semibold mb-4">âš¡ Quick Actions</h3> <div class="space-y-2"><a href="/agu/scan" class="w-full text-left bg-gray-700 hover:bg-gray-600 p-3 rounded-lg transition-colors block">ğŸ” Initiate Code Scan</a> <a href="/agu/policies" class="w-full text-left bg-gray-700 hover:bg-gray-600 p-3 rounded-lg transition-colors block">ğŸ“‹ Review Policies</a> <a href="/agu/reports" class="w-full text-left bg-gray-700 hover:bg-gray-600 p-3 rounded-lg transition-colors block">ğŸ“Š Generate Reports</a> <a href="/agu/audit" class="w-full text-left bg-gray-700 hover:bg-gray-600 p-3 rounded-lg transition-colors block">ğŸ” Audit Trail</a> <a href="/agu/settings" class="w-full text-left bg-gray-700 hover:bg-gray-600 p-3 rounded-lg transition-colors block">âš™ï¸ AGU Settings</a></div></div> <div class="bg-gray-800 rounded-lg p-6 border border-gray-700"><h3 class="text-lg font-semibold mb-4">ğŸ›¡ï¸ Governance Status</h3> <div class="space-y-3"><div><div class="flex justify-between mb-1"><span class="text-gray-400">Compliance Score</span> <span class="text-blue-400"> </span></div> <div class="w-full bg-gray-700 rounded-full h-2"><div class="bg-blue-400 h-2 rounded-full"></div></div></div> <div class="flex justify-between"><span class="text-gray-400">Violations</span> <span class="text-red-400"> </span></div> <div class="flex justify-between"><span class="text-gray-400">Active Policies</span> <span class="text-green-400"> </span></div></div></div> <div class="bg-gray-800 rounded-lg p-6 border border-gray-700"><h3 class="text-lg font-semibold mb-4">ğŸ• Recent Activity</h3> <div class="space-y-3 text-sm"><div class="border-l-2 border-green-400 pl-3"><div class="text-green-400">Workflow approved</div> <div class="text-gray-400">Security patch deployment - 15m ago</div></div> <div class="border-l-2 border-yellow-400 pl-3"><div class="text-yellow-400">Task escalated</div> <div class="text-gray-400">Database optimization review - 1h ago</div></div> <div class="border-l-2 border-blue-400 pl-3"><div class="text-blue-400">Policy updated</div> <div class="text-gray-400">Code review requirements - 2h ago</div></div></div></div></div></div></div>');function tt(ea,aa){Ma(aa,!1);const[E,ta]=Oa(),y=()=>B(we,"$systemGovernance",E),V=()=>B(F,"$pendingApprovals",E),Z=()=>B(O,"$activeWorkflows",E),k=()=>B(K,"$aguMetrics",E),O=H([]),F=H([]),we=H({status:"active",policies:[],violations:0,complianceScore:95}),K=H({totalTasks:0,approvedTasks:0,rejectedTasks:0,pendingTasks:0,averageApprovalTime:"0m"});let X=[{id:"wf-001",name:"Code Analysis Pipeline",status:"active",gateType:"approval",priority:"high",requester:"Auto-Scanner",created:new Date(Date.now()-1e3*60*30),businessImpact:"high",stakeholders:["Tech Lead","Security Team"]},{id:"wf-002",name:"Feature Implementation Gate",status:"pending",gateType:"checkpoint",priority:"medium",requester:"Product Manager",created:new Date(Date.now()-1e3*60*60),businessImpact:"medium",stakeholders:["Engineering","QA"]},{id:"wf-003",name:"Emergency Security Patch",status:"escalated",gateType:"emergency",priority:"critical",requester:"Security Bot",created:new Date(Date.now()-1e3*60*15),businessImpact:"critical",stakeholders:["CTO","Security Team","DevOps"]}],A=[{id:"app-001",taskTitle:"Refactor Authentication Module",description:"Modernize auth system to use JWT tokens and improve security",type:"refactoring",priority:"high",estimatedHours:8,requiredAgents:["Security Expert","Backend Developer"],sourceAnalysis:{filePath:"src/auth/auth-service.ts",severity:"medium",type:"security"},acceptanceCriteria:["All tests pass","Security scan shows no vulnerabilities","Performance benchmarks maintained"],created:new Date(Date.now()-1e3*60*45),deadline:new Date(Date.now()+1e3*60*60*24*2)},{id:"app-002",taskTitle:"Database Query Optimization",description:"Optimize slow queries identified in performance monitoring",type:"optimization",priority:"medium",estimatedHours:4,requiredAgents:["Database Expert","Performance Analyst"],sourceAnalysis:{filePath:"src/database/queries/user-queries.ts",severity:"low",type:"performance"},acceptanceCriteria:["Query time reduced by 50%","Database load testing passes","No data integrity issues"],created:new Date(Date.now()-1e3*60*20),deadline:new Date(Date.now()+1e3*60*60*24*5)}];Wa(async()=>{await N(),await sa(),await ra(),await ia()});async function N(){try{const r=await fetch("/api/agu/workflows");if(r.ok){const s=await r.json();O.set(s.workflows||X)}else O.set(X)}catch(r){console.error("Failed to load workflows:",r),O.set(X)}}async function sa(){try{const r=await fetch("/api/agu/approvals");if(r.ok){const s=await r.json();F.set(s.approvals||A)}else F.set(A)}catch(r){console.error("Failed to load approvals:",r),F.set(A)}}async function ra(){try{const r=await fetch("/api/agu/governance");if(r.ok){const s=await r.json();we.set(s)}}catch(r){console.error("Failed to load governance data:",r)}}async function ia(){try{const r=await fetch("/api/agu/metrics");if(r.ok){const s=await r.json();K.set(s)}else K.set({totalTasks:A.length+150,approvedTasks:89,rejectedTasks:12,pendingTasks:A.length,averageApprovalTime:"24m"})}catch(r){console.error("Failed to load AGU metrics:",r)}}async function oa(r){try{(await fetch(`/api/agu/workflows/${r}/approve`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({decision:"approved",rationale:"Reviewed and approved via web interface"})})).ok?(await N(),v("Workflow approved successfully","success")):v("Failed to approve workflow","error")}catch(s){console.error("Approval error:",s),v("Error processing approval","error")}}async function da(r){const s=prompt("Please provide a reason for rejection:");if(s)try{(await fetch(`/api/agu/workflows/${r}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({decision:"rejected",rationale:s})})).ok?(await N(),v("Workflow rejected","warning")):v("Failed to reject workflow","error")}catch(d){console.error("Rejection error:",d),v("Error processing rejection","error")}}async function na(r){try{(await fetch(`/api/agu/workflows/${r}/escalate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({escalationLevel:"TEAM_LEAD",reason:"Manual escalation via web interface"})})).ok?(await N(),v("Workflow escalated","info")):v("Failed to escalate workflow","error")}catch(s){console.error("Escalation error:",s),v("Error processing escalation","error")}}function v(r,s){alert(`${s.toUpperCase()}: ${r}`)}function va(r){switch(r){case"active":return"text-blue-400";case"pending":return"text-yellow-400";case"escalated":return"text-red-400";case"completed":return"text-green-400";default:return"text-gray-400"}}function ke(r){switch(r){case"critical":return"text-red-400 bg-red-900/20";case"high":return"text-orange-400 bg-orange-900/20";case"medium":return"text-yellow-400 bg-yellow-900/20";case"low":return"text-blue-400 bg-blue-900/20";default:return"text-gray-400 bg-gray-900/20"}}function la(r){const d=new Date().getTime()-r.getTime(),n=Math.floor(d/(1e3*60));return n<60?`${n}m ago`:n<1440?`${Math.floor(n/60)}h ago`:`${Math.floor(n/1440)}d ago`}Ga();var Y=Qa();qa(r=>{Ia.title="AGU - AI Governance Unit - Claude Code Zen"});var ee=a(Y),Ae=a(ee),Te=t(a(Ae),4),ae=a(Te),$e=t(a(ae),2),ca=a($e,!0);e($e),e(ae);var te=t(ae,2),je=t(a(te),2),pa=a(je);e(je),e(te);var se=t(te,2),Se=t(a(se),2),ga=a(Se,!0);e(Se),e(se);var De=t(se,2),Ce=t(a(De),2),ua=a(Ce,!0);e(Ce),e(De),e(Te),e(Ae),e(ee);var Pe=t(ee,2),re=a(Pe),ie=a(re),Ge=t(a(ie),2),Me=a(Ge);_e(Me,1,Z,he,(r,s)=>{var d=Fa(),n=a(d),c=a(n),p=a(c),ue=a(p,!0);e(p);var T=t(p,2),b=a(T),z=a(b);e(b);var l=t(b,2),ye=a(l,!0);e(l);var m=t(l,2),be=a(m);e(m);var x=t(m,2),$=a(x,!0);e(x),e(T),e(c);var j=t(c,2),S=a(j),D=a(S);e(S);var C=t(S,2),me=a(C);e(C),e(j),e(n);var g=t(n,2),f=a(g),P=t(a(f),2),J=a(P,!0);e(P),e(f);var G=t(f,2),xe=t(a(G));e(G),e(g);var _=t(g,2),M=a(_),W=t(M,2),L=t(W,2),q=t(L,2);e(_),e(d),Q((U,u,I,Sa,Da,Ca,Pa)=>{R(d,1,`bg-gray-700 rounded-lg p-4 border-l-4 ${i(s).status==="escalated"?"border-red-400":i(s).status==="pending"?"border-yellow-400":"border-blue-400"}`),o(ue,i(s).name),R(b,1,U),o(z,`â— ${u??""}`),R(l,1,`px-2 py-1 rounded text-xs ${I??""}`),o(ye,Sa),o(be,`Gate: ${i(s).gateType??""}`),o($,Da),o(D,`ID: ${i(s).id??""}`),o(me,`Requested by: ${i(s).requester??""}`),R(P,1,i(s).businessImpact==="critical"?"text-red-400":i(s).businessImpact==="high"?"text-orange-400":"text-yellow-400"),o(J,Ca),o(xe,` ${Pa??""}`),Ye(q,"href",`/agu/workflow/${i(s).id??""}`)},[()=>va(i(s).status),()=>i(s).status.toUpperCase(),()=>ke(i(s).priority),()=>i(s).priority.toUpperCase(),()=>la(i(s).created),()=>i(s).businessImpact.toUpperCase(),()=>i(s).stakeholders.join(", ")]),fe("click",M,()=>oa(i(s).id)),fe("click",W,()=>da(i(s).id)),fe("click",L,()=>na(i(s).id)),h(r,d)});var ya=t(Me,2);{var ba=r=>{var s=Na();h(r,s)};Xe(ya,r=>{Z().length===0&&r(ba)})}e(Ge),e(ie);var We=t(ie,2),qe=t(a(We),2),Ue=a(qe);_e(Ue,1,V,he,(r,s)=>{var d=Ja(),n=a(d),c=a(n),p=a(c),ue=a(p,!0);e(p);var T=t(p,2),b=a(T,!0);e(T),e(c);var z=t(c,2),l=a(z),ye=a(l,!0);e(l);var m=t(l,2),be=a(m);e(m),e(z),e(n);var x=t(n,2),$=a(x),j=t(a($),2),S=a(j,!0);e(j),e($);var D=t($,2),C=t(a(D),2),me=a(C,!0);e(C),e(D);var g=t(D,2),f=t(a(g),2),P=a(f,!0);e(f),e(g);var J=t(g,2),G=t(a(J),2),xe=a(G,!0);e(G),e(J),e(x);var _=t(x,2),M=t(a(_),2);_e(M,5,()=>i(s).acceptanceCriteria,he,(q,U)=>{var u=za(),I=a(u);e(u),Q(()=>o(I,`â€¢ ${i(U)??""}`)),h(q,u)}),e(M),e(_);var W=t(_,2),L=t(a(W),6);e(W),e(d),Q((q,U,u,I)=>{o(ue,i(s).taskTitle),o(b,i(s).description),R(l,1,`px-2 py-1 rounded text-xs ${q??""} mb-1`),o(ye,U),o(be,`${i(s).estimatedHours??""}h estimated`),o(S,i(s).type),o(me,i(s).sourceAnalysis.filePath),o(P,u),o(xe,I),Ye(L,"href",`/agu/task/${i(s).id??""}`)},[()=>ke(i(s).priority),()=>i(s).priority.toUpperCase(),()=>i(s).requiredAgents.join(", "),()=>i(s).deadline.toLocaleDateString()]),h(r,d)});var ma=t(Ue,2);{var xa=r=>{var s=La();h(r,s)};Xe(ma,r=>{V().length===0&&r(xa)})}e(qe),e(We),e(re);var Ie=t(re,2),oe=a(Ie),Re=t(a(oe),2),de=a(Re),Ee=t(a(de),2),fa=a(Ee,!0);e(Ee),e(de);var ne=t(de,2),Oe=t(a(ne),2),_a=a(Oe,!0);e(Oe),e(ne);var ve=t(ne,2),Fe=t(a(ve),2),ha=a(Fe,!0);e(Fe),e(ve);var le=t(ve,2),Ne=t(a(le),2),wa=a(Ne,!0);e(Ne),e(le);var ze=t(le,2),Je=t(a(ze),2),ka=a(Je,!0);e(Je),e(ze),e(Re),e(oe);var Le=t(oe,4),Qe=t(a(Le),2),ce=a(Qe),pe=a(ce),Be=t(a(pe),2),Aa=a(Be);e(Be),e(pe);var He=t(pe,2),Ta=a(He);e(He),e(ce);var ge=t(ce,2),Ve=t(a(ge),2),$a=a(Ve,!0);e(Ve),e(ge);var Ze=t(ge,2),Ke=t(a(Ze),2),ja=a(Ke,!0);e(Ke),e(Ze),e(Qe),e(Le),Ra(2),e(Ie),e(Pe),e(Y),Q(r=>{o(ca,r),o(pa,`${y().complianceScore??""}%`),o(ga,V().length),o(ua,Z().length),o(fa,k().totalTasks),o(_a,k().approvedTasks),o(ha,k().rejectedTasks),o(wa,k().pendingTasks),o(ka,k().averageApprovalTime),o(Aa,`${y().complianceScore??""}%`),Ea(Ta,`width: ${y().complianceScore??""}%`),o($a,y().violations),o(ja,y().policies.length)},[()=>y().status.toUpperCase()]),h(ea,Y),Ua(),ta()}export{tt as component};
//# sourceMappingURL=3._7Mjg6hA.js.map
