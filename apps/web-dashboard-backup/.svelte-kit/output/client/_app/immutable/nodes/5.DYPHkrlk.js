import"../chunks/DsnmJJEf.js";import{i as Ke}from"../chunks/Dpmr5Dgf.js";import{a1 as Ve,a2 as We,a3 as l,a4 as Xe,a5 as b,g as r,af as fe,a6 as c,a7 as Ye,ac as et,a9 as o,aa as a,a8 as n,b as x,m as J,ad as t,aj as tt,ai as at,ae as st}from"../chunks/B7z1MOZy.js";import{i as w}from"../chunks/CEHbExR_.js";import{e as $,s as Q,i as A}from"../chunks/BhSolc2x.js";import{b as rt}from"../chunks/BJC_WCc9.js";import{a as ot}from"../chunks/DUWeUQ_z.js";import{a as U,s as it,b as nt}from"../chunks/CXII8-yk.js";import{w as K}from"../chunks/B2TdpOED.js";var dt=l("<option> </option>"),ct=l('<span class="bg-blue-600 text-xs px-2 py-1 rounded"> </span>'),lt=l('<div class="mt-2"><p class="text-xs text-gray-400">Assigned Agents:</p> <div class="flex flex-wrap gap-1 mt-1"></div></div>'),vt=l('<div class="bg-gray-600 rounded p-3 mt-2"><p class="text-sm text-green-300 font-medium mb-1">System Response:</p> <p class="text-sm text-gray-200"> </p> <!></div>'),pt=l('<div class="bg-red-900/30 rounded p-3 mt-2 border border-red-600"><p class="text-sm text-red-300"> </p></div>'),mt=l('<div><div class="flex justify-between items-start mb-2"><div class="flex items-center gap-2"><span class="text-sm font-medium"> </span> <span> </span></div> <span class="text-xs text-gray-400"> </span></div> <div class="mb-3"><p class="text-sm text-gray-300"> </p></div> <!> <!></div>'),ut=l('<div class="text-center py-8 text-gray-500"><p>No communications yet. Start a conversation with the system!</p></div>'),gt=l('<div class="flex items-center justify-between bg-gray-700 p-2 rounded"><span class="text-sm"> </span> <span class="text-xs text-green-400"> </span></div>'),bt=l('<p class="text-sm text-gray-500">No active agents</p>'),xt=l(`<div class="min-h-screen bg-gray-900 text-white"><div class="bg-gray-800 border-b border-gray-700 p-6"><div class="max-w-7xl mx-auto"><h1 class="text-3xl font-bold text-blue-400 mb-2">💬 Development Communication Hub</h1> <p class="text-gray-300">Direct communication interface with the Claude Code Zen system</p> <div class="mt-4 flex items-center gap-4"><div class="flex items-center gap-2"><div></div> <span class="text-sm"> </span></div> <div class="flex items-center gap-2"><span class="text-sm"> </span></div></div></div></div> <div class="max-w-7xl mx-auto p-6 grid grid-cols-1 lg:grid-cols-3 gap-6"><div class="lg:col-span-2 space-y-6"><div class="bg-gray-800 rounded-lg p-6 border border-gray-700"><h2 class="text-xl font-semibold mb-4">📝 New Communication</h2> <div class="mb-4"><label class="block text-sm font-medium mb-2">Communication Type</label> <select class="w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2"></select> <p class="text-sm text-gray-400 mt-1"> </p></div> <div class="mb-4"><label class="block text-sm font-medium mb-2">Message</label> <textarea placeholder="Describe what you need help with, the task to coordinate, or the analysis to perform..." class="w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 h-32 resize-none"></textarea></div> <div class="flex justify-between items-center"><button class="bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed px-6 py-2 rounded-lg font-medium transition-colors"> </button> <button class="text-gray-400 hover:text-red-400 text-sm transition-colors">🗑️ Clear History</button></div></div> <div class="bg-gray-800 rounded-lg p-6 border border-gray-700"><h2 class="text-xl font-semibold mb-4">📜 Communication History</h2> <div class="space-y-4 max-h-96 overflow-y-auto"><!> <!></div></div></div> <div class="space-y-6"><div class="bg-gray-800 rounded-lg p-6 border border-gray-700"><h3 class="text-lg font-semibold mb-4">⚡ Quick Actions</h3> <div class="space-y-2"><button class="w-full text-left bg-gray-700 hover:bg-gray-600 p-3 rounded-lg transition-colors">🔍 System Health Check</button> <button class="w-full text-left bg-gray-700 hover:bg-gray-600 p-3 rounded-lg transition-colors">🐝 Initialize New Swarm</button> <button class="w-full text-left bg-gray-700 hover:bg-gray-600 p-3 rounded-lg transition-colors">📊 Performance Analysis</button> <button class="w-full text-left bg-gray-700 hover:bg-gray-600 p-3 rounded-lg transition-colors">🔧 Debug Current Task</button> <button class="w-full text-left bg-gray-700 hover:bg-gray-600 p-3 rounded-lg transition-colors">📋 Generate Status Report</button></div></div> <div class="bg-gray-800 rounded-lg p-6 border border-gray-700"><h3 class="text-lg font-semibold mb-4">🤖 Active Agents</h3> <div class="space-y-2"><!> <!></div></div> <div class="bg-gray-800 rounded-lg p-6 border border-gray-700"><h3 class="text-lg font-semibold mb-4">💡 Communication Tips</h3> <div class="space-y-3 text-sm text-gray-300"><div><p class="font-medium text-blue-400">Be Specific:</p> <p>Provide clear context and expected outcomes</p></div> <div><p class="font-medium text-green-400">Use Examples:</p> <p>Include code snippets or file paths when relevant</p></div> <div><p class="font-medium text-yellow-400">Set Priorities:</p> <p>Indicate urgency and dependencies</p></div> <div><p class="font-medium text-purple-400">Feedback Loop:</p> <p>Ask for clarification if responses aren't clear</p></div></div></div></div></div></div>`);function kt(_e,he){Ve(he,!1);const[k,we]=it(),S=()=>U(T,"$currentMessage",k),V=()=>U(W,"$systemStatus",k),D=()=>U(X,"$activeAgents",k),T=K(""),W=K("ready"),X=K([]),j=[{id:"direct",name:"💬 Direct Command",desc:"Direct system commands and queries"},{id:"coordination",name:"🤝 Agent Coordination",desc:"Multi-agent task coordination"},{id:"analysis",name:"🔍 Code Analysis",desc:"Deep code analysis requests"},{id:"planning",name:"📋 Project Planning",desc:"Strategic planning and roadmapping"},{id:"debugging",name:"🐛 Debug Session",desc:"Interactive debugging assistance"},{id:"review",name:"👁️ Code Review",desc:"Comprehensive code review requests"}];let y=J("direct"),m=J([]),f=J(!1);We(async()=>{await Se(),await Ce()});async function Se(){try{const e=await fetch("/api/dev-communication/history");e.ok&&x(m,await e.json())}catch(e){console.error("Failed to load message history:",e)}}async function Ce(){try{const e=await fetch("/api/system/status");if(e.ok){const s=await e.json();W.set(s.status),X.set(s.activeAgents||[])}}catch(e){console.error("Failed to connect to system status:",e)}}async function $e(){if(!S().trim()||r(f))return;x(f,!0);const e={id:Date.now(),type:r(y),content:S(),timestamp:new Date().toISOString(),status:"processing"};x(m,[...r(m),e]),T.set("");try{const s=await fetch("/api/dev-communication/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:r(y),message:e.content,requestId:e.id})});if(s.ok){const i=await s.json();e.status="completed",e.response=i.response,e.agents=i.assignedAgents}else e.status="error",e.error="Communication failed"}catch(s){e.status="error",e.error=s.message}x(m,[...r(m)]),x(f,!1)}async function Ae(){x(m,[]);try{await fetch("/api/dev-communication/clear",{method:"POST"})}catch(e){console.error("Failed to clear history:",e)}}function ke(e){switch(e){case"processing":return"text-yellow-400";case"completed":return"text-green-400";case"error":return"text-red-400";default:return"text-gray-400"}}function De(e){return new Date(e).toLocaleTimeString()}Ke();var P=xt();Xe(e=>{et.title="Dev Communication - Claude Code Zen"});var M=a(P),Y=a(M),ee=o(a(Y),4),H=a(ee),te=a(H),ae=o(te,2),Te=a(ae);t(ae),t(H);var se=o(H,2),re=a(se),je=a(re);t(re),t(se),t(ee),t(Y),t(M);var oe=o(M,2),I=a(oe),N=a(I),q=o(a(N),2),C=o(a(q),2);b(()=>{r(y),tt(()=>{})}),$(C,5,()=>j,A,(e,s)=>{var i=dt(),v=a(i,!0);t(i);var u={};b(()=>{n(v,r(s).name),u!==(u=r(s).id)&&(i.value=(i.__value=r(s).id)??"")}),c(e,i)}),t(C);var ie=o(C,2),Pe=a(ie,!0);t(ie),t(q);var F=o(q,2),O=o(a(F),2);at(O),t(F);var ne=o(F,2),h=a(ne),Me=a(h,!0);t(h);var He=o(h,2);t(ne),t(N);var de=o(N,2),ce=o(a(de),2),le=a(ce);$(le,1,()=>r(m).slice().reverse(),A,(e,s)=>{var i=mt(),v=a(i),u=a(v),_=a(u),R=a(_,!0);t(_);var z=o(_,2),Oe=a(z,!0);t(z),t(u);var ge=o(u,2),Re=a(ge,!0);t(ge),t(v);var E=o(v,2),be=a(E),ze=a(be,!0);t(be),t(E);var xe=o(E,2);{var Ee=d=>{var p=vt(),g=o(a(p),2),L=a(g,!0);t(g);var Be=o(g,2);{var Ge=Z=>{var B=lt(),ye=o(a(B),2);$(ye,5,()=>r(s).agents,A,(Je,Qe)=>{var G=ct(),Ue=a(G,!0);t(G),b(()=>n(Ue,r(Qe))),c(Je,G)}),t(ye),t(B),c(Z,B)};w(Be,Z=>{r(s).agents&&r(s).agents.length>0&&Z(Ge)})}t(p),b(()=>n(L,r(s).response)),c(d,p)};w(xe,d=>{r(s).response&&d(Ee)})}var Le=o(xe,2);{var Ze=d=>{var p=pt(),g=a(p),L=a(g);t(g),t(p),b(()=>n(L,`Error: ${r(s).error??""}`)),c(d,p)};w(Le,d=>{r(s).error&&d(Ze)})}t(i),b((d,p,g)=>{Q(i,1,`bg-gray-700 rounded-lg p-4 border-l-4 ${r(s).status==="completed"?"border-green-400":r(s).status==="error"?"border-red-400":"border-yellow-400"}`),n(R,d),Q(z,1,`text-xs ${p??""}`),n(Oe,r(s).status),n(Re,g),n(ze,r(s).content)},[()=>j.find(d=>d.id===r(s).type)?.name||r(s).type,()=>ke(r(s).status),()=>De(r(s).timestamp)]),c(e,i)});var Ie=o(le,2);{var Ne=e=>{var s=ut();c(e,s)};w(Ie,e=>{r(m).length===0&&e(Ne)})}t(ce),t(de),t(I);var ve=o(I,2),pe=o(a(ve),2),me=o(a(pe),2),ue=a(me);$(ue,1,D,A,(e,s)=>{var i=gt(),v=a(i),u=a(v,!0);t(v);var _=o(v,2),R=a(_,!0);t(_),t(i),b(()=>{n(u,r(s).name),n(R,r(s).status)}),c(e,i)});var qe=o(ue,2);{var Fe=e=>{var s=bt();c(e,s)};w(qe,e=>{D().length===0&&e(Fe)})}t(me),t(pe),st(2),t(ve),t(oe),t(P),b((e,s)=>{Q(te,1,`w-3 h-3 rounded-full ${V()==="ready"?"bg-green-400":"bg-yellow-400"}`),n(Te,`System: ${V()??""}`),n(je,`Active Agents: ${D().length??""}`),n(Pe,e),O.disabled=r(f),h.disabled=s,n(Me,r(f)?"⏳ Processing...":"🚀 Send Communication")},[()=>j.find(e=>e.id===r(y))?.desc||"",()=>!S().trim()||r(f)]),rt(C,()=>r(y),e=>x(y,e)),ot(O,S,e=>nt(T,e)),fe("click",h,$e),fe("click",He,Ae),c(_e,P),Ye(),we()}export{kt as component};
//# sourceMappingURL=5.DYPHkrlk.js.map
