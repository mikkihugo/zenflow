import"../chunks/DsnmJJEf.js";import{i as Te}from"../chunks/Dpmr5Dgf.js";import{a1 as Ve,a2 as Je,am as Ze,an as He,a3 as c,a4 as Xe,ah as ee,a5 as x,af as G,a6 as n,a7 as Ye,g as e,m as y,ac as $e,a9 as d,aa as i,a8 as m,ad as a,ae as Ee,b as o,u as f,aq as et,ag as re,R as tt}from"../chunks/B7z1MOZy.js";import{i as q}from"../chunks/CEHbExR_.js";import{s as me,e as _e,i as he}from"../chunks/BhSolc2x.js";import{r as at}from"../chunks/CXr2Pg0T.js";import{a as st}from"../chunks/DUWeUQ_z.js";import{s as it,b as rt}from"../chunks/y6embj6J.js";var ot=c('<div class="breadcrumb svelte-15pq2td"><button class="breadcrumb-btn svelte-15pq2td">⬅️</button> <span class="path svelte-15pq2td"> </span></div>'),lt=c('<div class="loading svelte-15pq2td">📁 Loading files...</div>'),nt=c('<div class="error svelte-15pq2td"> </div>'),dt=c('<div class="empty svelte-15pq2td">📄 No files found</div>'),vt=c('<span class="file-size svelte-15pq2td"> </span>'),ct=c('<button><span class="file-icon"> </span> <span class="file-name svelte-15pq2td"> </span> <!></button>'),pt=c('<div class="files-list svelte-15pq2td"></div>'),ft=c('<div class="explorer-content svelte-15pq2td"><!> <!></div>'),ut=c('<div class="loading svelte-15pq2td">📄 Loading file content...</div>'),mt=c('<pre class="svelte-15pq2td"><code> </code></pre>'),_t=c('<div class="empty svelte-15pq2td">📄 File is empty</div>'),ht=c('<div class="file-viewer svelte-15pq2td"><div class="file-header svelte-15pq2td"><h3 class="svelte-15pq2td"> </h3> <div class="file-meta svelte-15pq2td"><span> </span> <span> </span></div></div> <div class="file-content svelte-15pq2td"><!></div></div>'),bt=c('<div class="welcome svelte-15pq2td"><h2 class="svelte-15pq2td">🎯 Welcome to Workspace</h2> <p class="svelte-15pq2td">Select a file from the explorer to view its content, or use the command palette to perform actions.</p> <div class="quick-actions svelte-15pq2td"><button class="btn primary">🎯 Open Command Palette</button> <button class="btn">🔄 Refresh Files</button></div></div>'),gt=c('<div class="no-results"><div class="no-results-icon">🤷</div> <div class="no-results-text">No commands found</div> <div class="no-results-hint">Try a different search term</div></div>'),kt=c('<span class="command-shortcut"> </span>'),wt=c('<div><div class="command-main"><span class="command-icon"> </span> <div class="command-info"><div class="command-title"> </div> <div class="command-description"> </div></div></div> <!></div>'),qt=c('<div class="command-category"><div class="category-header"> </div> <!></div>'),Ct=c('<div class="command-palette-backdrop"><div class="command-palette"><div class="search-container"><span class="search-icon">🔍</span> <input class="search-input" placeholder="Type a command..."/> <span class="search-shortcut">ESC</span></div> <div class="commands-container"><!></div> <div class="command-footer"><div class="footer-shortcuts"><span><kbd>↑</kbd><kbd>↓</kbd> Navigate</span> <span><kbd>Enter</kbd> Execute</span></div> <div class="footer-info"> </div></div></div></div>'),xt=c('<div class="workspace svelte-15pq2td"><div class="workspace-header svelte-15pq2td"><h1 class="svelte-15pq2td">🗂️ Workspace</h1> <div class="workspace-actions svelte-15pq2td"><button class="btn primary"><span>🎯</span> Command Palette <kbd class="svelte-15pq2td">Ctrl+Shift+P</kbd></button></div></div> <div class="workspace-layout svelte-15pq2td"><div><div class="explorer-header svelte-15pq2td"><button class="collapse-btn svelte-15pq2td"> </button> <h3 class="svelte-15pq2td">Files</h3> <button class="btn-icon svelte-15pq2td" title="Refresh">🔄</button></div> <!></div> <div class="main-content svelte-15pq2td"><!></div></div></div> <!>',1);function Dt(Se,be){Ve(be,!1);let te=y([]),U=y(""),A=y(!1),V=y(""),F=y(!1),N=y(null),oe=y(""),Q=y(""),J=y(!0);const le=[{category:"File Operations",items:[{id:"new-file",title:"New File",description:"Create a new file",icon:"📄",shortcut:"Ctrl+N"},{id:"new-folder",title:"New Folder",description:"Create a new folder",icon:"📁",shortcut:"Ctrl+Shift+N"},{id:"open-file",title:"Open File",description:"Open an existing file",icon:"📂",shortcut:"Ctrl+O"},{id:"save-file",title:"Save File",description:"Save current file",icon:"💾",shortcut:"Ctrl+S"}]},{category:"Navigation",items:[{id:"go-to-file",title:"Go to File",description:"Quick file navigation",icon:"🔍",shortcut:"Ctrl+P"},{id:"go-to-line",title:"Go to Line",description:"Jump to specific line",icon:"📍",shortcut:"Ctrl+G"},{id:"find-in-files",title:"Find in Files",description:"Search across all files",icon:"🔎",shortcut:"Ctrl+Shift+F"}]},{category:"Project",items:[{id:"run-command",title:"Run Command",description:"Execute project command",icon:"⚡",shortcut:"Ctrl+`"},{id:"git-status",title:"Git Status",description:"View git repository status",icon:"🌿",shortcut:"Ctrl+Shift+G"},{id:"project-info",title:"Project Info",description:"View project information",icon:"ℹ️",shortcut:""}]}];let g=y(le),D=y(0);async function ae(t=""){o(A,!0),o(V,"");try{const s=await fetch(`/api/workspace/files?path=${encodeURIComponent(t)}`);if(!s.ok)throw new Error("Failed to load files");const r=await s.json();o(te,r.files||[]),o(U,r.currentPath||t)}catch(s){o(V,s.message||"Failed to load files"),console.error("Error loading files:",s)}finally{o(A,!1)}}async function Le(t){o(A,!0);try{const s=await fetch(`/api/workspace/files/content?path=${encodeURIComponent(t)}`);if(!s.ok)throw new Error("Failed to load file content");const r=await s.json();o(oe,r.content||"")}catch(s){o(V,s.message||"Failed to load file content"),console.error("Error loading file content:",s)}finally{o(A,!1)}}function je(t){if(t.type==="directory"){const s=e(U)?`${e(U)}/${t.name}`:t.name;ae(s)}else o(N,t),Le(t.path)}function Ne(){const t=e(U).split("/");t.pop();const s=t.join("/");ae(s)}function ne(){o(F,!e(F)),e(F)&&(o(Q,""),ge(),o(D,0))}function ge(){e(Q).trim()?o(g,le.map(t=>({...t,items:t.items.filter(s=>s.title.toLowerCase().includes(e(Q).toLowerCase())||s.description.toLowerCase().includes(e(Q).toLowerCase()))})).filter(t=>t.items.length>0)):o(g,le),o(D,0)}function ke(t){switch(console.log("Executing command:",t),o(F,!1),t){case"new-file":break;case"new-folder":break;case"git-status":break;default:console.log("Command not implemented:",t)}}function we(t){if(t.ctrlKey&&t.shiftKey&&t.key==="P")t.preventDefault(),ne();else if(e(F)){if(t.key==="Escape")o(F,!1);else if(t.key==="ArrowDown"){t.preventDefault();const s=e(g).reduce((r,p)=>r+p.items.length,0);o(D,(e(D)+1)%s)}else if(t.key==="ArrowUp"){t.preventDefault();const s=e(g).reduce((r,p)=>r+p.items.length,0);o(D,e(D)===0?s-1:e(D)-1)}else if(t.key==="Enter"){t.preventDefault();let s=0;for(const r of e(g))for(const p of r.items){if(s===e(D)){ke(p.id);return}s++}}}}Je(()=>(ae(),window.addEventListener("keydown",we),()=>{window.removeEventListener("keydown",we)})),Ze(()=>e(F),()=>{e(F)&&ge()}),He(),Te();var qe=xt();Xe(t=>{$e.title="Workspace - Claude Code Zen"});var de=ee(qe),ve=i(de),Ce=d(i(ve),2),De=i(Ce);a(Ce),a(ve);var xe=d(ve,2),se=i(xe);let ye;var ce=i(se),pe=i(ce),Oe=i(pe,!0);a(pe),Ee(4),a(ce);var Re=d(ce,2);{var ze=t=>{var s=ft(),r=i(s);{var p=h=>{var k=ot(),R=i(k),P=d(R,2),M=i(P);a(P),a(k),x(()=>m(M,`/${e(U)??""}`)),G("click",R,Ne),n(h,k)};q(r,h=>{e(U)&&h(p)})}var O=d(r,2);{var K=h=>{var k=lt();n(h,k)},I=h=>{var k=re(),R=ee(k);{var P=l=>{var _=nt(),b=i(_);a(_),x(()=>m(b,`❌ ${e(V)??""}`)),n(l,_)},M=l=>{var _=re(),b=ee(_);{var E=w=>{var C=dt();n(w,C)},S=w=>{var C=pt();_e(C,5,()=>e(te),he,(L,v)=>{var j=ct();let u;var Z=i(j),fe=i(Z,!0);a(Z);var z=d(Z,2),ie=i(z,!0);a(z);var H=d(z,2);{var X=W=>{var T=vt(),Y=i(T);a(T),x(ue=>m(Y,`${ue??""}KB`),[()=>(e(v),f(()=>Math.round(e(v).size/1024)))]),n(W,T)};q(H,W=>{e(v),f(()=>e(v).type==="file"&&e(v).size)&&W(X)})}a(j),x(W=>{u=me(j,1,"file-item svelte-15pq2td",null,u,W),m(fe,(e(v),f(()=>e(v).type==="directory"?"📁":"📄"))),m(ie,(e(v),f(()=>e(v).name)))},[()=>({selected:e(N)?.path===e(v).path})]),G("click",j,()=>je(e(v))),n(L,j)}),a(C),n(w,C)};q(b,w=>{e(te),f(()=>e(te).length===0)?w(E):w(S,!1)},!0)}n(l,_)};q(R,l=>{e(V)?l(P):l(M,!1)},!0)}n(h,k)};q(O,h=>{e(A)?h(K):h(I,!1)})}a(s),n(t,s)};q(Re,t=>{e(J)&&t(ze)})}a(se);var Fe=d(se,2),Ge=i(Fe);{var Ke=t=>{var s=ht(),r=i(s),p=i(r),O=i(p);a(p);var K=d(p,2),I=i(K),h=i(I);a(I);var k=d(I,2),R=i(k);a(k),a(K),a(r);var P=d(r,2),M=i(P);{var l=b=>{var E=ut();n(b,E)},_=b=>{var E=re(),S=ee(E);{var w=L=>{var v=mt(),j=i(v),u=i(j,!0);a(j),a(v),x(()=>m(u,e(oe))),n(L,v)},C=L=>{var v=_t();n(L,v)};q(S,L=>{e(oe)?L(w):L(C,!1)},!0)}n(b,E)};q(M,b=>{e(A)?b(l):b(_,!1)})}a(P),a(s),x((b,E)=>{m(O,`📄 ${e(N),f(()=>e(N).name)??""}`),m(h,`Size: ${b??""}KB`),m(R,`Modified: ${E??""}`)},[()=>(e(N),f(()=>Math.round(e(N).size/1024))),()=>(e(N),f(()=>new Date(e(N).modified).toLocaleDateString()))]),n(t,s)},Ie=t=>{var s=bt(),r=d(i(s),4),p=i(r),O=d(p,2);a(r),a(s),G("click",p,ne),G("click",O,()=>ae()),n(t,s)};q(Ge,t=>{e(N)?t(Ke):t(Ie,!1)})}a(Fe),a(xe),a(de);var Me=d(de,2);{var We=t=>{var s=Ct(),r=i(s),p=i(r),O=d(i(p),2);at(O),et(O),Ee(2),a(p);var K=d(p,2),I=i(K);{var h=l=>{var _=gt();n(l,_)},k=l=>{var _=re(),b=ee(_);_e(b,1,()=>e(g),he,(E,S)=>{var w=qt(),C=i(w),L=i(C,!0);a(C);var v=d(C,2);_e(v,1,()=>(e(S),f(()=>e(S).items)),he,(j,u,Z)=>{const fe=tt(()=>(e(g),e(S),f(()=>e(g).slice(0,e(g).indexOf(e(S))).reduce((B,$)=>B+$.items.length,0)+Z)));var z=wt();let ie;var H=i(z),X=i(H),W=i(X,!0);a(X);var T=d(X,2),Y=i(T),ue=i(Y,!0);a(Y);var Pe=d(Y,2),Be=i(Pe,!0);a(Pe),a(T),a(H);var Ue=d(H,2);{var Ae=B=>{var $=kt(),Qe=i($,!0);a($),x(()=>m(Qe,(e(u),f(()=>e(u).shortcut)))),n(B,$)};q(Ue,B=>{e(u),f(()=>e(u).shortcut)&&B(Ae)})}a(z),x(B=>{ie=me(z,1,"command-item",null,ie,B),m(W,(e(u),f(()=>e(u).icon))),m(ue,(e(u),f(()=>e(u).title))),m(Be,(e(u),f(()=>e(u).description)))},[()=>({selected:e(fe)===e(D)})]),G("click",z,()=>ke(e(u).id)),n(j,z)}),a(w),x(()=>m(L,(e(S),f(()=>e(S).category)))),n(E,w)}),n(l,_)};q(I,l=>{e(g),f(()=>e(g).length===0)?l(h):l(k,!1)})}a(K);var R=d(K,2),P=d(i(R),2),M=i(P);a(P),a(R),a(r),a(s),x(l=>m(M,`${l??""} commands`),[()=>(e(g),f(()=>e(g).reduce((l,_)=>l+_.items.length,0)))]),st(O,()=>e(Q),l=>o(Q,l)),G("click",r,it(function(l){rt.call(this,be,l)})),G("click",s,()=>o(F,!1)),n(t,s)};q(Me,t=>{e(F)&&t(We)})}x(t=>{ye=me(se,1,"file-explorer svelte-15pq2td",null,ye,t),m(Oe,e(J)?"📁":"📂")},[()=>({collapsed:!e(J)})]),G("click",De,ne),G("click",pe,()=>o(J,!e(J))),n(Se,qe),Ye()}export{Dt as component};
//# sourceMappingURL=8.2nYw5zbC.js.map
