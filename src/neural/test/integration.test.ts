/**
 * Integration test for Claude Zen Neural Service
 */

import { getNeuralServiceStatus, predictWithNetwork, trainNeuralNetwork } from '../integration.js';

async function runNeuralServiceTests() {
  console.warn('ðŸ§  Testing Claude Zen Neural Service Integration...\n');

  try {
    // Test1 = getNeuralServiceStatus();
    console.warn('âœ“ Servicestatus = await createNeuralNetwork('xor-network', [2, 4, 1], {description = getNeuralNetwork('xor-network');
    if(!retrievedNetwork) {
      throw new Error('Failed to retrieve network');
    }
    console.warn('âœ“ Network retrieved successfully');

    // Test 4 = {inputs = {learning_rate = await trainNeuralNetwork('xor-network', trainingData, config);
    console.warn(`âœ“ Training completed witherror = [[0, 0], [0, 1], [1, 0], [1, 1]];

    for(let i = 0; i < testInputs.length; i++) {

      console.warn(`Input = getNeuralServiceStatus();
    console.warn('âœ“ Service status => {
        console.warn(`    - ${net.id}: ${net.layers} (${net.description || 'no description'})`);
      }
  )
}

// Test7 = getNeuralServiceStatus();
console.warn(`âœ“ Multiple networkscreated = new ClaudeZenNeuralService();
    await customService.initialize();
    await customService.createNetwork('custom-net', [2, 3, 1]);
    const customStatus = customService.getStatus();
    console.warn(`âœ“ Custom service instance created with ${customStatus.networks.length} network(s)`);

    customService.dispose();
    console.warn('âœ“ Custom service disposed');

    console.warn('\nðŸŽ‰ All neural service integration tests passed!');

    // Performance test
    console.warn('\nðŸš€ Running neural service performance test...');
    const perfStart = performance.now();
    
    for(let i = 0; i < 100; i++) {
      predictWithNetwork('xor-network', [Math.random(), Math.random()]);
    }
    
    const perfEnd = performance.now();

    console.warn(`âœ“ Performance test = {inputs = await trainNeuralNetwork('decision-maker', coordinationData, {learning_rate = [0, 1, 0, 1, 0]; // Medium priority, medium conflicts
const decision = predictWithNetwork('decision-maker', testScenario);
console.warn(
  `âœ“ Decision for scenario ${testScenario}: [${decision.map((x) => x.toFixed(3)).join(', ')}]`
);

console.warn('âœ“ Claude Zen integration test completed successfully');

} catch(error)
{
  console.error('âŒ Claude Zen integration testfailed = == `file://${process.argv[1]}`) {
  runNeuralServiceTests()
    .then(() => runClaudeZenIntegrationTest())
    .then(() => {
      console.warn('\nâœ… All neural service tests completed successfully!');
      process.exit(0);
    })
    .catch((error) => {
      console.error('\nðŸ’¥ Neural service test suite failed:', error);
      process.exit(1);
    });
}

export { runNeuralServiceTests, type runClaudeZenIntegrationTest };
