{
  "key": "3c2ca6dcd4d809ac9ad69ed17668f62a",
  "value": [
    {
      "rule": "C003",
      "line": 116,
      "column": 0,
      "severity": "warning",
      "message": "Variable 'dir' is a common abbreviation; use 'directory' for clarity.",
      "suggestion": "Rename 'dir' to 'directory' throughout the method.",
      "codeSnippet": "backend:this.config.name,",
      "filePath": "/home/mhugo/code/zenflow/packages/integrations/otel-collector/src/exporters/file-exporter.ts",
      "category": "code_quality",
      "categoryName": "Code Quality",
      "analysisMode": "medium",
      "confidence": 0.85
    },
    {
      "rule": "C003",
      "line": 180,
      "column": 0,
      "severity": "warning",
      "message": "Variable 'dir' is a common abbreviation; use 'directory' for clarity.",
      "suggestion": "Rename 'dir' to 'directory' throughout the method.",
      "codeSnippet": "/**",
      "filePath": "/home/mhugo/code/zenflow/packages/integrations/otel-collector/src/exporters/file-exporter.ts",
      "category": "code_quality",
      "categoryName": "Code Quality",
      "analysisMode": "medium",
      "confidence": 0.85
    },
    {
      "rule": "C003",
      "line": 181,
      "column": 0,
      "severity": "warning",
      "message": "Variable 'baseName' is a vague name; use 'baseFileName' for clarity.",
      "suggestion": "Rename 'baseName' to 'baseFileName'.",
      "codeSnippet": "* Write telemetry data to file",
      "filePath": "/home/mhugo/code/zenflow/packages/integrations/otel-collector/src/exporters/file-exporter.ts",
      "category": "code_quality",
      "categoryName": "Code Quality",
      "analysisMode": "medium",
      "confidence": 0.85
    },
    {
      "rule": "C019",
      "line": 53,
      "column": 0,
      "severity": "warning",
      "message": "Using 'error' log level for initialization failure, which may not be critical.",
      "suggestion": "Use 'warn' log level unless the failure is critical and unrecoverable.",
      "codeSnippet": "// Create initial file",
      "filePath": "/home/mhugo/code/zenflow/packages/integrations/otel-collector/src/exporters/file-exporter.ts",
      "category": "code_quality",
      "categoryName": "Code Quality",
      "analysisMode": "medium",
      "confidence": 0.85
    },
    {
      "rule": "C019",
      "line": 76,
      "column": 0,
      "severity": "warning",
      "message": "Using 'error' log level for export failure, which may not be critical.",
      "suggestion": "Use 'warn' log level unless the failure is critical and unrecoverable.",
      "codeSnippet": "this.exportCount++;",
      "filePath": "/home/mhugo/code/zenflow/packages/integrations/otel-collector/src/exporters/file-exporter.ts",
      "category": "code_quality",
      "categoryName": "Code Quality",
      "analysisMode": "medium",
      "confidence": 0.85
    },
    {
      "rule": "C019",
      "line": 101,
      "column": 0,
      "severity": "warning",
      "message": "Using 'error' log level for batch export failure, which may not be critical.",
      "suggestion": "Use 'warn' log level unless the failure is critical and unrecoverable.",
      "codeSnippet": "async exportBatch(dataItems:TelemetryData[]): Promise<ExportResult> {",
      "filePath": "/home/mhugo/code/zenflow/packages/integrations/otel-collector/src/exporters/file-exporter.ts",
      "category": "code_quality",
      "categoryName": "Code Quality",
      "analysisMode": "medium",
      "confidence": 0.85
    },
    {
      "rule": "C019",
      "line": 152,
      "column": 0,
      "severity": "warning",
      "message": "Using 'error' log level for file write stream error, which may not be critical.",
      "suggestion": "Use 'warn' log level unless the failure is critical and unrecoverable.",
      "codeSnippet": "});",
      "filePath": "/home/mhugo/code/zenflow/packages/integrations/otel-collector/src/exporters/file-exporter.ts",
      "category": "code_quality",
      "categoryName": "Code Quality",
      "analysisMode": "medium",
      "confidence": 0.85
    },
    {
      "rule": "C019",
      "line": 167,
      "column": 0,
      "severity": "warning",
      "message": "Using 'error' log level for file rotation failure, which may not be critical.",
      "suggestion": "Use 'warn' log level unless the failure is critical and unrecoverable.",
      "codeSnippet": "if (this.lastError) {",
      "filePath": "/home/mhugo/code/zenflow/packages/integrations/otel-collector/src/exporters/file-exporter.ts",
      "category": "code_quality",
      "categoryName": "Code Quality",
      "analysisMode": "medium",
      "confidence": 0.85
    },
    {
      "rule": "C019",
      "line": 209,
      "column": 0,
      "severity": "warning",
      "message": "Using 'error' log level for cleanup old files failure, which may not be critical.",
      "suggestion": "Use 'warn' log level unless the failure is critical and unrecoverable.",
      "codeSnippet": "resolve();",
      "filePath": "/home/mhugo/code/zenflow/packages/integrations/otel-collector/src/exporters/file-exporter.ts",
      "category": "code_quality",
      "categoryName": "Code Quality",
      "analysisMode": "medium",
      "confidence": 0.85
    },
    {
      "rule": "C029",
      "line": 53,
      "column": 0,
      "severity": "warning",
      "message": "Catch block does not log stack trace or context for initialization error.",
      "suggestion": "Log error stack and include relevant context (e.g., config values) in the error log.",
      "codeSnippet": "// Create initial file",
      "filePath": "/home/mhugo/code/zenflow/packages/integrations/otel-collector/src/exporters/file-exporter.ts",
      "category": "code_quality",
      "categoryName": "Code Quality",
      "analysisMode": "medium",
      "confidence": 0.85
    },
    {
      "rule": "C029",
      "line": 76,
      "column": 0,
      "severity": "warning",
      "message": "Catch block does not log stack trace or context for export error.",
      "suggestion": "Log error stack and include relevant context (e.g., data, config) in the error log.",
      "codeSnippet": "this.exportCount++;",
      "filePath": "/home/mhugo/code/zenflow/packages/integrations/otel-collector/src/exporters/file-exporter.ts",
      "category": "code_quality",
      "categoryName": "Code Quality",
      "analysisMode": "medium",
      "confidence": 0.85
    },
    {
      "rule": "C029",
      "line": 101,
      "column": 0,
      "severity": "warning",
      "message": "Catch block does not log stack trace or context for batch export error.",
      "suggestion": "Log error stack and include relevant context (e.g., dataItems, config) in the error log.",
      "codeSnippet": "async exportBatch(dataItems:TelemetryData[]): Promise<ExportResult> {",
      "filePath": "/home/mhugo/code/zenflow/packages/integrations/otel-collector/src/exporters/file-exporter.ts",
      "category": "code_quality",
      "categoryName": "Code Quality",
      "analysisMode": "medium",
      "confidence": 0.85
    },
    {
      "rule": "C029",
      "line": 167,
      "column": 0,
      "severity": "warning",
      "message": "Catch block does not log stack trace or context for file rotation error.",
      "suggestion": "Log error stack and include relevant context (e.g., file path, rotation interval) in the error log.",
      "codeSnippet": "if (this.lastError) {",
      "filePath": "/home/mhugo/code/zenflow/packages/integrations/otel-collector/src/exporters/file-exporter.ts",
      "category": "code_quality",
      "categoryName": "Code Quality",
      "analysisMode": "medium",
      "confidence": 0.85
    },
    {
      "rule": "C029",
      "line": 209,
      "column": 0,
      "severity": "warning",
      "message": "Catch block does not log stack trace or context for cleanup old files error.",
      "suggestion": "Log error stack and include relevant context (e.g., directory, maxFiles) in the error log.",
      "codeSnippet": "resolve();",
      "filePath": "/home/mhugo/code/zenflow/packages/integrations/otel-collector/src/exporters/file-exporter.ts",
      "category": "code_quality",
      "categoryName": "Code Quality",
      "analysisMode": "medium",
      "confidence": 0.85
    },
    {
      "rule": "S001",
      "line": 51,
      "column": 0,
      "severity": "warning",
      "message": "Access control error handling in export() returns error details to caller, but does not explicitly deny access or prevent fallback to 'allow' state if logic fails.",
      "suggestion": "Ensure that any error in access control logic results in a denied operation, not just an error message. Return a clear 'denied' status and avoid ambiguous success/failure states.",
      "codeSnippet": "await fs.mkdir(dir, { recursive:true});",
      "filePath": "/home/mhugo/code/zenflow/packages/integrations/otel-collector/src/exporters/file-exporter.ts",
      "category": "security",
      "categoryName": "Security",
      "analysisMode": "medium",
      "confidence": 0.85
    },
    {
      "rule": "S001",
      "line": 72,
      "column": 0,
      "severity": "warning",
      "message": "Access control error handling in exportBatch() returns error details to caller, but does not explicitly deny access or prevent fallback to 'allow' state if logic fails.",
      "suggestion": "Ensure that any error in access control logic results in a denied operation, not just an error message. Return a clear 'denied' status and avoid ambiguous success/failure states.",
      "codeSnippet": "async export(data:TelemetryData): Promise<ExportResult> {",
      "filePath": "/home/mhugo/code/zenflow/packages/integrations/otel-collector/src/exporters/file-exporter.ts",
      "category": "security",
      "categoryName": "Security",
      "analysisMode": "medium",
      "confidence": 0.85
    }
  ],
  "timestamp": 1756490773752,
  "version": "1.0.0",
  "fileHash": ""
}
